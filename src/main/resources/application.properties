spring.application.name=demo

# Load environment variables from local .env when present (dev convenience)
spring.config.import=optional:file:.env[.properties]

# Database
spring.datasource.url=${DB_URL:jdbc:postgresql://localhost:5432/demo}
spring.datasource.username=${DB_USERNAME:postgres}
spring.datasource.password=${DB_PASSWORD}
spring.jpa.hibernate.ddl-auto=update

openai.api-key=${OPENAI_API_KEY:}
openai.model=${OPENAI_MODEL:text-embedding-ada-002}
openai.endpoint=${OPENAI_ENDPOINT:https://api.openai.com/v1/embeddings}

# Flyway - disabled (using JPA ddl-auto instead for local development)
spring.flyway.enabled=false
spring.jpa.properties.hibernate.jdbc.time_zone=UTC
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# OAuth2 Client (GitHub)
spring.security.oauth2.client.registration.github.client-id=${GITHUB_CLIENT_ID}
spring.security.oauth2.client.registration.github.client-secret=${GITHUB_CLIENT_SECRET}
spring.security.oauth2.client.registration.github.scope=user:email,read:user
spring.security.oauth2.client.registration.github.redirect-uri={baseUrl}/login/oauth2/code/{registrationId}

# RSA Keys for JWT
rsa.private-key=classpath:certs/private.pem
rsa.public-key=classpath:certs/public.pem

# JWT Cookie Configuration
jwt.cookie.max-age=${JWT_COOKIE_MAX_AGE:86400}
jwt.cookie.domain=${JWT_COOKIE_DOMAIN:localhost}
jwt.cookie.secure=${JWT_COOKIE_SECURE:false}
jwt.cookie.same-site=${JWT_COOKIE_SAME_SITE:none}

logging.level.gc.demo.service.SearchService=DEBUG

# Custom sync token
sync.token=${SYNC_TOKEN}

# Frontend URL
frontend.url=${FRONTEND_URL:http://localhost:3000}
frontend.callback-url=${FRONTEND_CALLBACK_URL:http://localhost:3000/api/auth/callback}
